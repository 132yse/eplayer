<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>eplayer</title>
  </head>
  <body>
    <style>
      .wrapper {
        margin: 100px auto;
        width: 800px;
        height: 450px;
        background: #1f223f;
      }
      video {
        width: 100%;
        height: 100%;
      }
      canvas {
        position: absolute;
      }
    </style>
    <div class="wrapper">
      <canvas id="danmu"></canvas>
      <video
        src="https://gss3.baidu.com/6LZ0ej3k1Qd3ote6lo7D0j9wehsv/tieba-smallvideo/6_41c424f02d54e59cd51be66e80c17c86.mp4"
        controls
        id="video"
      ></video>
    </div>
    <!-- <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.2.1/webcomponents-bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="./src/eplayer.js"></script> -->
    <script src="./src/danmuku/danmuku.js"></script>

    <script>
      let canvas = document.getElementById('danmu')
      let video = document.getElementById('video')
      let data = [
        { value: '啦啦啦', speed: 2, color: '#fff', time: 0 },
        { value: '哈哈哈', time: 3 },
        { value: '嘿嘿嘿', time: 20 }
      ]
      let danmuku = new Danmuku(canvas, video, data)

      video.addEventListener('play', function() {
        danmuku.pause = true
        danmuku.render()
      })
    </script>
  </body>
</html>
