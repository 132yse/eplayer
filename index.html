<!DOCTYPE html>
<html lang="zh">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>eplayer</title>
  </head>
  <body>
    <style>
      .wrapper {
        margin: 100px auto;
        width: 800px;
        height: 450px;
        background: #1f223f;
      }
      video {
        width: 100%;
        height: 100%;
      }
      canvas {
        position: absolute;
      }
    </style>
    <div class="wrapper">
      <canvas id="danmu"></canvas>
      <video
        src="https://gss3.baidu.com/6LZ0ej3k1Qd3ote6lo7D0j9wehsv/tieba-smallvideo/6_41c424f02d54e59cd51be66e80c17c86.mp4"
        controls
        id="video"
      ></video>
    </div>
    <!-- <script src="https://unpkg.com/@webcomponents/webcomponentsjs@2.2.1/webcomponents-bundle.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="./src/eplayer.js"></script> -->
    <script src="./src/danmuku/danmuku.js"></script>

    <script>
      let canvas = document.getElementById('danmu')
      let video = document.getElementById('video')
      let data = [
        {
          value: 'speed设为0为非滚动',
          time: 1, // 单位秒
          speed: 0
        },
        {
          value: 'time控制弹幕时间，单位秒',
          color: 'blue',
          time: 2
        },
        {
          value: '视频共21秒',
          time: 3.2
        },
        {
          value: '视频背景为白色',
          time: 4.5
        },
        {
          value: '视频为录制',
          time: 5.0
        },
        {
          value: '视频内容简单',
          time: 6.3
        },
        {
          value: '是为了让视频尺寸不至于过大',
          time: 7.8
        },
        {
          value: '省流量',
          time: 8.5
        },
        {
          value: '支持弹幕暂停（视频暂停）',
          time: 9
        },
        {
          value: 'add()方法新增弹幕',
          time: 11
        },
        {
          value: 'reset()方法重置弹幕',
          time: 11
        },
        {
          value: '颜色，字号，透明度可全局设置',
          time: 13
        },
        {
          value: '具体交互细节可参考页面源代码',
          time: 14
        },
        {
          value: '内容不错哦！',
          time: 18,
          color: 'yellow'
        }
      ]
      let dm = new Danmuku(canvas, video, data)

      video.addEventListener('play', function() {
        dm.play()
      })

      video.addEventListener('pause', function() {
        dm.pause()
      })
    </script>
  </body>
</html>
